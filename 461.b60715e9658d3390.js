"use strict";(self.webpackChunkWeather=self.webpackChunkWeather||[]).push([[461],{7461:(V,f,p)=>{p.r(f),p.d(f,{WeatherModule:()=>I});var h=p(6895),C=p(5450),e=p(8256);let v=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-alerts-page"]],decls:2,vars:0,template:function(i,n){1&i&&(e.TgZ(0,"p"),e._uU(1,"alerts-page works!"),e.qZA())}}),t})(),S=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-cities-page"]],decls:2,vars:0,template:function(i,n){1&i&&(e.TgZ(0,"p"),e._uU(1,"cities-page works!"),e.qZA())}}),t})();var d=p(8505),s=(()=>{return(t=s||(s={})).success="success",t.info="info",t.warning="warn",t.error="error",s;var t})(),b=p(529),m=p(5565);let y=(()=>{class t{constructor(i,n){this.httpClient=i,this.notificationService=n,this.apiKey="b70c09c7012c40b88c45aa7daf0ee288"}GetCoordinatesByName(i){return this.httpClient.get(`http://api.openweathermap.org/geo/1.0/direct?q=${i.input}&limit=${i.limit?i.limit:""}&appid=${this.apiKey}`).pipe((0,d.b)(a=>{},a=>{this.notificationService.ShowNotification({severity:s.error,message:"Coordinates By Name couldn't be retrieved",details:"Error details: "+a.error.message})}))}GetCoordinatesByZipCode(i){return this.httpClient.get(`http://api.openweathermap.org/geo/1.0/zip?zip=${i.zip_code}&appid=${this.apiKey}`).pipe((0,d.b)(a=>{},a=>{this.notificationService.ShowNotification({severity:s.error,message:"Coordinates By ZipCode couldn't be retrieved",details:"Error details: "+a.error.message})}))}GetCoordinatesRevert(i){return this.httpClient.get(`http://api.openweathermap.org/geo/1.0/reverse?lat=${i.lat}&lon=${i.lon}&limit${i.limit?i.limit:""}=&appid=${this.apiKey}`).pipe((0,d.b)(a=>{},a=>{this.notificationService.ShowNotification({severity:s.error,message:"The City name for this Coordinates couldn't be retrieved",details:"Error details: "+a.error.message})}))}GetWeather(i){return this.httpClient.get(`https://api.openweathermap.org/data/2.5/weather?lat=${i.lat}&lon=${i.lon}&lang=${i.lang?i.lang:""}&mode=${i.mode?i.mode:""}&units=${i.units?i.units:""}&appid=${this.apiKey}`).pipe((0,d.b)(a=>{},a=>{this.notificationService.ShowNotification({severity:s.error,message:"Weather couldn't be retrieved",details:"Error details: "+a.error.message})}))}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(b.eN),e.LFG(m.g))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var r=(()=>{return(t=r||(r={})).byName="byName",t.byZip="byZip",t.byCordinates="byCordinates",r;var t})(),l=(()=>{return(t=l||(l={})).spanish="es",t.english="en",l;var t})(),c=(()=>{return(t=c||(c={})).K="standard",t.C="metric",t.F="imperial",c;var t})(),_=p(3608),Z=p(5593),w=p(1740),g=p(433);function M(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div")(1,"input",9),e.NdJ("ngModelChange",function(a){e.CHM(i);const u=e.oxw();return e.KtG(u.inputValueByName=a)}),e.qZA()()}if(2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.inputValueByName)}}function T(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div")(1,"input",10),e.NdJ("ngModelChange",function(a){e.CHM(i);const u=e.oxw();return e.KtG(u.inputValueZipCode=a)}),e.qZA()()}if(2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.inputValueZipCode)}}function x(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div")(1,"input",11),e.NdJ("ngModelChange",function(a){e.CHM(i);const u=e.oxw();return e.KtG(u.inputValueLatitude=a)}),e.qZA(),e.TgZ(2,"span"),e._uU(3,"-"),e.qZA(),e.TgZ(4,"input",12),e.NdJ("ngModelChange",function(a){e.CHM(i);const u=e.oxw();return e.KtG(u.inputValueLongitude=a)}),e.qZA()()}if(2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.inputValueLatitude),e.xp6(3),e.Q6J("ngModel",i.inputValueLongitude)}}function P(t,o){1&t&&(e.TgZ(0,"span")(1,"b"),e._uU(2,"input format:"),e.qZA(),e._uU(3," City name, state code (only for the US) and country code divided by comma"),e.qZA())}function N(t,o){1&t&&(e.TgZ(0,"span")(1,"b"),e._uU(2,"input format:"),e.qZA(),e._uU(3," Zip/post code and country code divided by comma. Please use "),e.TgZ(4,"a",13),e._uU(5,"ISO 3166"),e.qZA(),e._uU(6," country codes."),e.qZA())}function A(t,o){1&t&&(e.TgZ(0,"span")(1,"b"),e._uU(2,"input format:"),e.qZA(),e._uU(3," Geographical coordinates (latitude, longitude)"),e.qZA())}let L=(()=>{class t{constructor(i,n){this.weatherService=i,this.notificationService=n,this.inputValueByName="",this.inputValueZipCode="",this.inputValueLatitude="",this.inputValueLongitude="",this.loading=!1,this.weatherApiResponse={},this.tempUnitSelected=c.F,this.tempUnitsPermutationMap={[c.F]:c.C,[c.C]:c.K,[c.K]:c.F},this.languageSelected=l.english,this.languagePermutationMap={[l.english]:l.spanish,[l.spanish]:l.english},this.inputModeSelected=r.byName,this.inputModePermutationMap={[r.byCordinates]:r.byName,[r.byName]:r.byZip,[r.byZip]:r.byCordinates},this.modeTest=!1,this.response={},this.santafe={lat:"-31.6333",lon:"-60.7"}}ngOnInit(){}onClickSearch(){this.loading=!0,this.inputModeSelected==r.byName&&this.weatherService.GetCoordinatesByName({input:this.inputValueByName}).subscribe(n=>{if(n[0]){let a=n[0];this.inputValueLatitude=a.lat,this.inputValueLongitude=a.lon,this.callWeatherApi()}else this.notificationService.ShowNotification({severity:s.info,message:"No results",details:"Check input and try again"})},n=>{}),this.inputModeSelected==r.byZip&&this.notificationService.ShowNotification({severity:s.info,message:"Search by Zip Code is not implemented yet",details:"Will be available in the next version, try search by Name"}),this.inputModeSelected==r.byCordinates&&this.notificationService.ShowNotification({severity:s.info,message:"Search by Coordinates is not implemented yet",details:"Will be available in the next version, try search by Name"})}callWeatherApi(){this.weatherService.GetWeather({lat:this.inputValueLatitude,lon:this.inputValueLongitude,mode:"json",units:this.tempUnitSelected,lang:this.languageSelected}).subscribe(n=>{n?(this.weatherApiResponse=n,console.log(this.weatherApiResponse),this.notificationService.ShowNotification({severity:s.success,message:`${this.weatherApiResponse.name}, (${this.weatherApiResponse.sys.country})`,details:`${this.weatherApiResponse.main.temp} ${this.getTempUnitSelected()} - ${this.weatherApiResponse.weather[0].main} `}),this.notificationService.ShowNotification({severity:s.info,message:"A card presentation will be implemented in the next version",details:""})):this.notificationService.ShowNotification({severity:s.info,message:"No results",details:"Check input and try again"})},n=>{},()=>{this.loading=!1})}getTempUnitSelected(){return("standard"==this.tempUnitSelected?"k\xb0":"")+("metric"==this.tempUnitSelected?"C\xb0":"")+("imperial"==this.tempUnitSelected?"F\xb0":"")}changeTempUnit(){this.tempUnitSelected=this.tempUnitsPermutationMap[this.tempUnitSelected]}changeLanguage(){this.languageSelected=this.languagePermutationMap[this.languageSelected]}changeInputMode(){this.inputModeSelected=this.inputModePermutationMap[this.inputModeSelected]}changeModeTest(){this.modeTest=!this.modeTest}CallCoordinatesByName(){this.weatherService.GetCoordinatesByName({input:"Santa Fe,AR",limit:1}).subscribe(n=>{this.response=n,console.log(this.response)},n=>{})}CallCoordinatesByZipCode(){this.weatherService.GetCoordinatesByZipCode({zip_code:"3000,AR"}).subscribe(n=>{this.response=n,console.log(this.response)},n=>{})}CallCoordinatesRevert(){this.weatherService.GetCoordinatesRevert({lat:this.santafe.lat,lon:this.santafe.lon}).subscribe(n=>{this.response=n,console.log(this.response)},n=>{})}CallWeatherInterface(){this.weatherService.GetWeather({lat:this.santafe.lat,lon:this.santafe.lon}).subscribe(n=>{this.response=n,console.log(this.response)},n=>{})}checkResponse(){}showSeccessNotification(){this.notificationService.ShowNotification({severity:s.success,message:"Success test from search page",details:"details..."})}showErrorNotification(){this.notificationService.ShowNotification({severity:s.error,message:"Error test from search page",details:"details..."})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(y),e.Y36(m.g))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-search-prompt"]],decls:15,vars:11,consts:[[1,"serachPromptContainer",3,"keydown.enter"],["pButton","","pRipple","","p-button-raised","","p-button-text","","type","button","icon","pi pi-sync",1,"p-button-rounded","p-button-outlined","sizeButton","widthSizeButton",3,"click"],[4,"ngIf"],["pButton","","pRipple","","p-button-raised","","p-button-text","","type","button","icon","pi pi-search",1,"p-button-rounded","p-button-outlined","sizeButton","widthSizeButton",3,"loading","click"],["pTooltip","Change Units of measurement (K\xb0 F\xb0 C\xb0)","tooltipPosition","top",3,"showDelay"],["pButton","","pRipple","","p-button-raised","","p-button-text","","type","button",1,"p-button-rounded","p-button-outlined","sizeButton",3,"label","click"],["pTooltip","Change language of result","tooltipPosition","top",3,"showDelay"],[1,"infoAboutInput"],[1,"pi","pi-info-circle"],["placeHolder","asd","id","float-input","type","text","pInputText","","placeholder","Search by city name",1,"p-inputtext-md",3,"ngModel","ngModelChange"],["placeHolder","asd","id","float-input","type","text","pInputText","","placeholder","Search by Zip Code",1,"p-inputtext-md",3,"ngModel","ngModelChange"],["placeHolder","asd","id","float-input","type","text","pInputText","","placeholder","Latitude",1,"p-inputtext-sm",3,"ngModel","ngModelChange"],["placeHolder","asd","id","float-input","type","text","pInputText","","placeholder","Longitude",1,"p-inputtext-sm",3,"ngModel","ngModelChange"],["href","https://www.iso.org/obp/ui/#search/code/"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.NdJ("keydown.enter",function(){return n.onClickSearch()},!1,e.evT),e.TgZ(1,"button",1),e.NdJ("click",function(){return n.changeInputMode()}),e.qZA(),e.YNc(2,M,2,1,"div",2),e.YNc(3,T,2,1,"div",2),e.YNc(4,x,5,2,"div",2),e.TgZ(5,"button",3),e.NdJ("click",function(){return n.onClickSearch()}),e.qZA(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return n.changeTempUnit()}),e.qZA()(),e.TgZ(8,"div",6)(9,"button",5),e.NdJ("click",function(){return n.changeLanguage()}),e.qZA()()(),e.TgZ(10,"div",7),e._UZ(11,"i",8),e.YNc(12,P,4,0,"span",2),e.YNc(13,N,7,0,"span",2),e.YNc(14,A,4,0,"span",2),e.qZA()),2&i&&(e.xp6(2),e.Q6J("ngIf","byName"==n.inputModeSelected),e.xp6(1),e.Q6J("ngIf","byZip"==n.inputModeSelected),e.xp6(1),e.Q6J("ngIf","byCordinates"==n.inputModeSelected),e.xp6(1),e.Q6J("loading",n.loading),e.xp6(1),e.Q6J("showDelay",1e3),e.xp6(1),e.Q6J("label",n.getTempUnitSelected()),e.xp6(1),e.Q6J("showDelay",1e3),e.xp6(1),e.Q6J("label",n.languageSelected),e.xp6(3),e.Q6J("ngIf","byName"==n.inputModeSelected),e.xp6(1),e.Q6J("ngIf","byZip"==n.inputModeSelected),e.xp6(1),e.Q6J("ngIf","byCordinates"==n.inputModeSelected))},dependencies:[h.O5,_.u,Z.Hq,w.o,g.Fj,g.JJ,g.On],styles:[".serachPromptContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:5px}.sizeButton[_ngcontent-%COMP%]{height:35px!important;padding:10px!important;font-size:medium}.widthSizeButton[_ngcontent-%COMP%]{width:35px!important}.infoAboutInput[_ngcontent-%COMP%]{margin:10px auto;color:gray;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:5px;font-size:smaller}.cicleButtons[_ngcontent-%COMP%]{color:#3b82f6;font-weight:800;border:1px solid #3B82F6;border-radius:50%;display:flex;justify-content:center;align-items:center}"]}),t})();function B(t,o){1&t&&(e.TgZ(0,"div"),e._UZ(1,"div",2),e.qZA())}let U=(()=>{class t{constructor(){this.favoriteList=[]}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-cities-list-container"]],inputs:{favoriteList:"favoriteList"},decls:4,vars:1,consts:[[1,"citiesListContainer"],[4,"ngFor","ngForOf"],[1,"littleCard"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Your favorite cities:"),e.qZA(),e.YNc(3,B,2,0,"div",1),e.qZA()),2&i&&(e.xp6(3),e.Q6J("ngForOf",n.favoriteList))},dependencies:[h.sg]}),t})();const J=[{path:"",redirectTo:"search",pathMatch:"full"},{path:"search",component:(()=>{class t{constructor(i,n){this.weatherService=i,this.notificationService=n,this.favoriteList=[]}ngOnInit(){}addCityToFavoriteList(i){this.favoriteList.push(i)}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(y),e.Y36(m.g))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-search-page"]],decls:5,vars:1,consts:[["id","searchPageContent",1,"searchPageContent"],[1,"searchPrompt"],[1,"citiesList"],[3,"favoriteList"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-search-prompt"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"app-cities-list-container",3),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("favoriteList",n.favoriteList))},dependencies:[L,U],styles:[".searchPageContent[_ngcontent-%COMP%]{height:75%}.searchPrompt[_ngcontent-%COMP%]{display:block;height:20%}.citiesList[_ngcontent-%COMP%]{display:block;height:80%}"]}),t})()},{path:"cities",component:S},{path:"alerts",component:v}];let F=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[C.Bz.forChild(J),C.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[h.ez,F]}),t})()}}]);